(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(0),i=a.n(c),n=a(6),s=a.n(n),r=(a(12),a(3)),o=(a(13),a(21)),l=(a(14),a(1)),d=function(e){var t,a=e.number,c=e.icon,i=e.type,n=e.unit;switch(n){case"\xb0F":t=Math.ceil(1.8*a+32);break;case"K":t=Math.ceil(a+273.15);break;case"mph":t=Math.round(2.237*a);break;case"km/h":t=Math.round(3.6*a);break;default:t=Math.ceil(a)}return Object(l.jsxs)(o.a.div,{initial:{opacity:.1,scale:.1},animate:{opacity:1,scale:1},layout:!0,className:"card",children:[Object(l.jsx)("img",{src:c,alt:""}),Object(l.jsx)("h3",{children:"".concat(t," ").concat(n)}),Object(l.jsx)("p",{children:i})]})},u=Object({NODE_ENV:"production",PUBLIC_URL:"/top-weather-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APIkey,j=a.p+"static/media/FeelsLike.605b05b3.svg",h=a.p+"static/media/Frame.dd3d54bf.svg",b=a.p+"static/media/Humidity.dfc91c75.svg",m=a.p+"static/media/MaxTemp.6de19388.svg",p=a.p+"static/media/MinTemp.408e9342.svg",y=a.p+"static/media/Wind.311b79ff.svg",O=a.p+"static/media/settings.909daaf9.svg",x=(a(16),a(17),function(e){var t=e.visible,a=e.handleChange,c=e.changeCity,i=e.hideSettings;return Object(l.jsxs)(o.a.div,{initial:{opacity:.1,scale:.1},animate:{opacity:1,scale:1},layout:!0,className:t,onChange:a,children:[Object(l.jsx)("h4",{children:"Settings"}),Object(l.jsx)("p",{children:"Swap units"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"metric-units",children:"Metric (\xb0C)"}),Object(l.jsx)("input",{type:"radio",name:"units",id:"metric-units",value:"metric"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"imperial-units",children:"Imperial (\xb0F)"}),Object(l.jsx)("input",{type:"radio",name:"units",id:"imperial-units",value:"imperial"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"standard-units",children:"Standard (K)"}),Object(l.jsx)("input",{type:"radio",name:"units",id:"standard-units",value:"standard"})]}),Object(l.jsx)("button",{className:"change",onClick:c,children:"Change city"}),Object(l.jsx)("button",{className:"done",onClick:i,children:"Done"})]})});a(18);function v(){return Object(l.jsx)("div",{className:"ring"})}var f=function(e){var t=e.city,a=e.geoLocation,i=e.changeCity;console.log(t);var n,s=Object(c.useState)([{data:0,icon:j,type:"Feels like",key:0},{data:0,icon:p,type:"Min Temp.",key:1},{data:0,icon:m,type:"Max Temp.",key:2},{data:0,icon:b,type:"Humidity",key:3},{data:0,icon:h,type:"Visibility",key:4},{data:0,icon:y,type:"Wind",key:5}]),o=Object(r.a)(s,2),f=o[0],g=o[1],k=Object(c.useState)(0),S=Object(r.a)(k,2),C=S[0],N=S[1],w=Object(c.useState)(""),F=Object(r.a)(w,2),T=F[0],A=F[1],M=Object(c.useState)(""),_=Object(r.a)(M,2),E=_[0],K=_[1],P=Object(c.useState)("metric"),q=Object(r.a)(P,2),D=q[0],H=q[1],W=Object(c.useState)("hidden"),L=Object(r.a)(W,2),R=L[0],I=L[1],U=Object(c.useState)(!0),V=Object(r.a)(U,2),B=V[0],J=V[1];n=null!==a.lat&&null!==a.lon?"https://api.openweathermap.org/data/2.5/weather?lat=".concat(a.lat,"&lon=").concat(a.lon,"&appid=").concat(u,"&units=metric"):"https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat(u,"&units=metric"),Object(c.useEffect)((function(){fetch(n).then((function(e){return e.json()})).then((function(e){var t=e.main;g([{data:t.feels_like,icon:j,type:"Feels like",key:0},{data:t.temp_min,icon:p,type:"Min Temp.",key:1},{data:t.temp_max,icon:m,type:"Max Temp.",key:2},{data:t.humidity,icon:b,type:"Humidity",key:3},{data:e.visibility,icon:h,type:"Visibility",key:4},{data:e.wind.speed,icon:y,type:"Wind",key:5}]),N(t.temp),K(e.weather[0].description),A(e.name),console.log(e.name)})).catch((function(){alert("Your query [".concat(t,"] did not throw any results")),i()})).finally((function(){return J(!1)}))}),[t,a]);var G=function(e,t){var a={unitsArray:[""],temperature:0};switch(e){case"metric":a.unitsArray=["\xb0C","\xb0C","\xb0C","%","m","km/h"],a.temperature=t;break;case"imperial":a.unitsArray=["\xb0F","\xb0F","\xb0F","%","m","mph"],a.temperature=1.8*t+32;break;default:a.unitsArray=["K","K","K","%","m","m/s"],a.temperature=t+273.15}return a}(D,C),Y=G.unitsArray,z=G.temperature;return Object(l.jsxs)("main",{children:[Object(l.jsxs)("div",{className:"head",children:[Object(l.jsx)("h1",{children:"".concat(Math.ceil(z)," ").concat(Y[0])}),Object(l.jsx)("h2",{children:"".concat(E," in ").concat(""!==T?T:t)}),Object(l.jsx)("button",{id:"setting",onClick:function(){return I("shown")},children:Object(l.jsx)("img",{src:O,alt:""})})]}),Object(l.jsxs)("div",{className:"forecast",children:[f.map((function(e){return Object(l.jsx)(d,{number:e.data,icon:e.icon,type:e.type,unit:Y[e.key]},e.key)})),"shown"===R?Object(l.jsx)("div",{className:"container-".concat(R),children:Object(l.jsx)(x,{visible:"settings-".concat(R),handleChange:function(e){return H(e.target.value)},changeCity:i,hideSettings:function(){I("hidden")}})}):null,B?Object(l.jsx)("div",{className:"loading-container",children:Object(l.jsx)(v,{})}):null]})]})},g=function(e){var t=e.visibility,a=e.handleSearch,c=e.city,i=e.handleSubmit;return Object(l.jsxs)("form",{className:t,onSubmit:i,children:[Object(l.jsx)("label",{htmlFor:"city-search",children:"Search a city (city-comma-country)"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"text",name:"citySearch",id:"city-search",onChange:a,value:c})]})};var k=function(){var e=Object(c.useState)({lat:0,lon:0}),t=Object(r.a)(e,2),a=t[0],i=t[1],n=Object(c.useState)({cityName:""}),s=Object(r.a)(n,2),o=s[0],d=s[1],u=Object(c.useState)("shown"),j=Object(r.a)(u,2),h=j[0],b=j[1],m=Object(c.useState)(["App","opaque"]),p=Object(r.a)(m,2),y=p[0],O=p[1];return Object(l.jsx)("div",{className:y[0],children:Object(l.jsxs)("div",{className:y[1],children:[Object(l.jsx)("h1",{className:h,children:"Pick a city to start"}),Object(l.jsx)(g,{visibility:h,handleSearch:function(e){d({cityName:e.target.value})},city:o.cityName,handleSubmit:function(e){e.preventDefault()}}),Object(l.jsx)("button",{className:h,onClick:function(){""===o.cityName?alert("The search box cannot be empty!"):(b("hidden"),O(["App2","opaque2"]),i({lat:null,lon:null}))},children:"Search"}),Object(l.jsx)("button",{onClick:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,c=e.coords.longitude;i({lat:t,lon:c}),d({cityName:""}),b("hidden"),O(["App2","opaque2"]),console.log(a)}),(function(){return console.error("unable to locate")})):(console.error("Geolocation unsupported"),i({lat:null,lon:null}))},className:h,children:"Use geolocation instead"}),"hidden"===h?Object(l.jsx)(f,{city:o.cityName,geoLocation:a,changeCity:function(){b("shown"),O(["App","opaque"])}}):null]})})};s.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.96d6a66b.chunk.js.map