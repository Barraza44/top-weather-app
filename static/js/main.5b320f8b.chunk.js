(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),i=a(6),s=a.n(i),r=(a(12),a(3)),o=(a(13),a(21)),l=(a(14),a(1)),d=function(e){var t,a=e.number,c=e.icon,n=e.type,i=e.unit;switch(i){case"\xb0F":t=Math.ceil(1.8*a+32);break;case"K":t=Math.ceil(a+273.15);break;case"mph":t=Math.round(2.237*a);break;case"km/h":t=Math.round(3.6*a);break;default:t=Math.ceil(a)}return Object(l.jsxs)(o.a.div,{initial:{opacity:.1,scale:.1},animate:{opacity:1,scale:1},layout:!0,className:"card",children:[Object(l.jsx)("img",{src:c,alt:""}),Object(l.jsx)("h3",{children:"".concat(t," ").concat(i)}),Object(l.jsx)("p",{children:n})]})},u="bc6cc1a8a44c4ce1867b7bcc7e93d69c",j=a.p+"static/media/FeelsLike.605b05b3.svg",b=a.p+"static/media/Frame.dd3d54bf.svg",h=a.p+"static/media/Humidity.dfc91c75.svg",m=a.p+"static/media/MaxTemp.6de19388.svg",p=a.p+"static/media/MinTemp.408e9342.svg",y=a.p+"static/media/Wind.311b79ff.svg",O=a.p+"static/media/settings.909daaf9.svg",x=(a(16),a(17),function(e){var t=e.visible,a=e.handleChange,c=e.changeCity,n=e.hideSettings;return Object(l.jsxs)(o.a.div,{initial:{opacity:.1,scale:.1},animate:{opacity:1,scale:1},layout:!0,className:t,onChange:a,children:[Object(l.jsx)("h4",{children:"Settings"}),Object(l.jsx)("p",{children:"Swap units"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"metric-units",children:"Metric (\xb0C)"}),Object(l.jsx)("input",{type:"radio",name:"units",id:"metric-units",value:"metric"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"imperial-units",children:"Imperial (\xb0F)"}),Object(l.jsx)("input",{type:"radio",name:"units",id:"imperial-units",value:"imperial"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"standard-units",children:"Standard (K)"}),Object(l.jsx)("input",{type:"radio",name:"units",id:"standard-units",value:"standard"})]}),Object(l.jsx)("button",{className:"change",onClick:c,children:"Change city"}),Object(l.jsx)("button",{className:"done",onClick:n,children:"Done"})]})});a(18);function v(){return Object(l.jsx)("div",{className:"ring"})}var f=function(e){var t=e.city,a=e.geoLocation,n=e.changeCity;console.log(t);var i,s=Object(c.useState)([{data:0,icon:j,type:"Feels like",key:0},{data:0,icon:p,type:"Min Temp.",key:1},{data:0,icon:m,type:"Max Temp.",key:2},{data:0,icon:h,type:"Humidity",key:3},{data:0,icon:b,type:"Visibility",key:4},{data:0,icon:y,type:"Wind",key:5}]),o=Object(r.a)(s,2),f=o[0],g=o[1],k=Object(c.useState)(0),S=Object(r.a)(k,2),N=S[0],C=S[1],w=Object(c.useState)(""),M=Object(r.a)(w,2),F=M[0],A=M[1],T=Object(c.useState)(""),q=Object(r.a)(T,2),K=q[0],H=q[1],L=Object(c.useState)("metric"),W=Object(r.a)(L,2),_=W[0],D=W[1],E=Object(c.useState)("hidden"),I=Object(r.a)(E,2),J=I[0],P=I[1],V=Object(c.useState)(!0),B=Object(r.a)(V,2),G=B[0],U=B[1];i=null!==a.lat&&null!==a.lon?"https://api.openweathermap.org/data/2.5/weather?lat=".concat(a.lat,"&lon=").concat(a.lon,"&appid=").concat(u,"&units=metric"):"https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat(u,"&units=metric"),Object(c.useEffect)((function(){fetch(i).then((function(e){return e.json()})).then((function(e){var t=e.main;g([{data:t.feels_like,icon:j,type:"Feels like",key:0},{data:t.temp_min,icon:p,type:"Min Temp.",key:1},{data:t.temp_max,icon:m,type:"Max Temp.",key:2},{data:t.humidity,icon:h,type:"Humidity",key:3},{data:e.visibility,icon:b,type:"Visibility",key:4},{data:e.wind.speed,icon:y,type:"Wind",key:5}]),C(t.temp),H(e.weather[0].description),A(e.name),console.log(e.name)})).catch((function(){alert("Your query [".concat(t,"] did not throw any results")),n()})).finally((function(){return U(!1)}))}),[t,a,i,n]);var Y=function(e,t){var a={unitsArray:[""],temperature:0};switch(e){case"metric":a.unitsArray=["\xb0C","\xb0C","\xb0C","%","m","km/h"],a.temperature=t;break;case"imperial":a.unitsArray=["\xb0F","\xb0F","\xb0F","%","m","mph"],a.temperature=1.8*t+32;break;default:a.unitsArray=["K","K","K","%","m","m/s"],a.temperature=t+273.15}return a}(_,N),z=Y.unitsArray,Q=Y.temperature;return Object(l.jsxs)("main",{children:[Object(l.jsxs)("div",{className:"head",children:[Object(l.jsx)("h1",{children:"".concat(Math.ceil(Q)," ").concat(z[0])}),Object(l.jsx)("h2",{children:"".concat(K," in ").concat(""!==F?F:t)}),Object(l.jsx)("button",{id:"setting",onClick:function(){return P("shown")},children:Object(l.jsx)("img",{src:O,alt:""})})]}),Object(l.jsxs)("div",{className:"forecast",children:[f.map((function(e){return Object(l.jsx)(d,{number:e.data,icon:e.icon,type:e.type,unit:z[e.key]},e.key)})),"shown"===J?Object(l.jsx)("div",{className:"container-".concat(J),children:Object(l.jsx)(x,{visible:"settings-".concat(J),handleChange:function(e){return D(e.target.value)},changeCity:n,hideSettings:function(){P("hidden")}})}):null,G?Object(l.jsx)("div",{className:"loading-container",children:Object(l.jsx)(v,{})}):null]})]})},g=function(e){var t=e.visibility,a=e.handleSearch,c=e.city,n=e.handleSubmit;return Object(l.jsxs)("form",{className:t,onSubmit:n,children:[Object(l.jsx)("label",{htmlFor:"city-search",children:"Search a city (city-comma-country)"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"text",name:"citySearch",id:"city-search",onChange:a,value:c})]})};var k=function(){var e=Object(c.useState)({lat:0,lon:0}),t=Object(r.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)({cityName:""}),s=Object(r.a)(i,2),o=s[0],d=s[1],u=Object(c.useState)("shown"),j=Object(r.a)(u,2),b=j[0],h=j[1],m=Object(c.useState)(["App","opaque"]),p=Object(r.a)(m,2),y=p[0],O=p[1];return Object(l.jsx)("div",{className:y[0],children:Object(l.jsxs)("div",{className:y[1],children:[Object(l.jsx)("h1",{className:b,children:"Pick a city to start"}),Object(l.jsx)(g,{visibility:b,handleSearch:function(e){d({cityName:e.target.value})},city:o.cityName,handleSubmit:function(e){e.preventDefault()}}),Object(l.jsx)("button",{className:b,onClick:function(){""===o.cityName?alert("The search box cannot be empty!"):(h("hidden"),O(["App2","opaque2"]),n({lat:null,lon:null}))},children:"Search"}),Object(l.jsx)("button",{onClick:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,c=e.coords.longitude;n({lat:t,lon:c}),d({cityName:""}),h("hidden"),O(["App2","opaque2"]),console.log(a)}),(function(){return console.error("unable to locate")})):(console.error("Geolocation unsupported"),n({lat:null,lon:null}))},className:b,children:"Use geolocation instead"}),"hidden"===b?Object(l.jsx)(f,{city:o.cityName,geoLocation:a,changeCity:function(){h("shown"),O(["App","opaque"])}}):null]})})};s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.5b320f8b.chunk.js.map